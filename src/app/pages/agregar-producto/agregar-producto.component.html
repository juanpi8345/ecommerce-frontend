<app-navbar></app-navbar>
<div class="container mt-4 aparecer pb-2">
    <div class="d-flex align-items-center justify-content-between">
        <h1>Agregar producto</h1>
        <a routerLink="/productos">Volver</a>
    </div>
    <form (ngSubmit)="agregarProducto()">
        <div class="row mt-4">
            <div class="col-md-6">
                <mat-form-field class="w-100">
                    <mat-label>Ingrese el nombre del producto</mat-label>
                    <input type="text" matInput required name="nombre" [(ngModel)]="producto.name">
                </mat-form-field>
            </div>
            <div class="col-md-3">
                <mat-form-field class="w-100">
                    <mat-label>Ingrese el precio (Sin descuento)</mat-label>
                    <input type="number" matInput required name="precio" [(ngModel)]="producto.price">
                </mat-form-field>
            </div>
            <div class="col-md-3">
                <mat-form-field class="w-100">
                    <mat-label>Ingrese el stock disponible</mat-label>
                    <input type="number" matInput required name="stock" [(ngModel)]="producto.stock">
                </mat-form-field>
            </div>
        </div>
          <div class="row mt-2">
            <div class="col-md-10">
                <mat-form-field class="w-100">
                    <mat-label>Ingrese la url de la imagen del producto</mat-label>
                    <input type="text" matInput required name="url" [(ngModel)]="producto.imgUrl">
                </mat-form-field>
            </div>
            <div class="col-md-2">
                <mat-form-field class="w-100">
                  <mat-label>Talla</mat-label>
                   <mat-select [(value)]="producto.size">
                       <mat-option value="S">S</mat-option>
                       <mat-option value="M">M</mat-option>
                       <mat-option value="L">L</mat-option>
                       <mat-option value="XL">XL</mat-option>
                       <mat-option value="Consultar">Consulta</mat-option>
                   </mat-select>
                </mat-form-field>
            </div> 
        </div>
        <div class="row mt-2">
            <div class="col-md-12">
                <mat-form-field class="w-100">
                    <mat-label>Descripcion del producto</mat-label>
                    <textarea type="text" name="contenido" required matInput rows="17" [(ngModel)]="producto.description"></textarea>
                  </mat-form-field>
            </div>
        </div>
        <div class="row">
            <div class="col-md-2">
                <mat-slide-toggle (toggleChange)="producto.hasDiscount = !producto.hasDiscount"><span class="ms-1">Tiene descuento</span></mat-slide-toggle>
            </div>
            <div class="col-md-3 aparecer" *ngIf="producto.hasDiscount">
                <mat-form-field class="w-100">
                    <mat-label>Porcentaje de descuento</mat-label>
                    <input type="number" matInput required  name="descuento" [(ngModel)]="producto.percentageDiscount">
                </mat-form-field>
            </div>
        </div>
        <div class="row mt-4 mb-5">
            <div class="col-md-4">
                <button type="submit" class="btn btn-verde">Agregar producto</button>
                <a class="btn btn-outline-verde ms-2" (click)="limpiarCampos()">Limpiar campos</a>
            </div>
        </div>
    </form>
</div>